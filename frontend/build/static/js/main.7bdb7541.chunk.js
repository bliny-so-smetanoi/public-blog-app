(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(11),s=n.n(r),i=(n(27),n(15)),o=n(4);function l(){}var u=Object(c.createContext)({token:null,userId:null,login:l,logout:l,isAuth:!1}),j=n(3),d="userData",b=n(5),p=n.n(b),x=n(6),h=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(null),u=Object(j.a)(l,2),d=u[0],b=u[1];return{loading:n,request:Object(c.useCallback)(function(){var e=Object(x.a)(p.a.mark((function e(t){var n,c,r,s,i,l=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"GET",c=l.length>2&&void 0!==l[2]?l[2]:null,r=l.length>3&&void 0!==l[3]?l[3]:{},a(!0),e.prev=4,c&&('multipart/form-data; charset=utf-8; boundary="--WebKitBoundary"'!==r["Content-Type"]&&(c=JSON.stringify(c)),void 0===r["Content-Type"]&&(r["Content-Type"]="application/json")),e.next=8,fetch(t,{method:n,body:c,headers:r});case 8:return s=e.sent,e.next=11,s.json();case 11:if(i=e.sent,s.ok){e.next=15;break}throw b(i.errors),new Error(i.message||"Something went wrong...");case 15:return a(!1),e.abrupt("return",i);case 19:throw e.prev=19,e.t0=e.catch(4),a(!1),o(e.t0.message),e.t0;case 24:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:i,clearError:Object(c.useCallback)((function(){return o(null)}),[]),clearMessages:Object(c.useCallback)((function(){return b(null)}),[]),messages:d}},O=n(10),m=n(7),g=n(12),f=n.n(g),v=n(0);function y(e){var t=e.comments.map((function(e){var t=new Date(Date.now()),n=t.getFullYear().toString(),c="".concat(t.getDate()).concat(t.getMonth()+1).concat(t.getFullYear()),a=new Date(e.date_time),r=a.getFullYear().toString(),s=c==="".concat(a.getDate()).concat(a.getMonth()+1).concat(a.getFullYear()),i=n===r;return Object(v.jsxs)("div",{className:"homepage-main-article-comment",children:[Object(v.jsx)("p",{children:e.name}),Object(v.jsx)("p",{children:e.body_text}),Object(v.jsxs)("p",{style:{fontSize:"14px",color:"grey"},children:[s&&Object(v.jsx)(f.a,{fromNow:!0,children:e.date_time}),!s&&i&&Object(v.jsx)(f.a,{format:"D MMM HH:MM",children:e.date_time}),!i&&!s&&Object(v.jsx)(f.a,{format:"D MMM YYYY",children:e.date_time})]})]},e._id)}));return Object(v.jsx)(v.Fragment,{children:t})}var w=n(13),k=n(14);function C(e){var t=Object(c.useState)(e.article),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useContext)(u),i=s.userId,o=s.isAuth,l=h(),d=l.request,b=l.loading,g=Object(c.useState)(!0),C=Object(j.a)(g,2),S=C[0],N=C[1],D=Object(c.useState)(!1),_=Object(j.a)(D,2),B=_[0],M=_[1],T=Object(c.useState)(!1),E=Object(j.a)(T,2),F=E[0],I=E[1],z=Object(c.useState)(!1),L=Object(j.a)(z,2),Y=L[0],P=L[1],R=Object(c.useState)([]),A=Object(j.a)(R,2),q=A[0],H=A[1],G=Object(c.useState)({body_text:""}),J=Object(j.a)(G,2),W=J[0],U=J[1],K=new Date(Date.now()),Q=K.getFullYear().toString(),V="".concat(K.getDate()).concat(K.getMonth()+1).concat(K.getFullYear()),X=new Date(a.date_time),Z=X.getFullYear().toString(),$=V==="".concat(X.getDate()).concat(X.getMonth()+1).concat(X.getFullYear()),ee=Q===Z;function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(x.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d("/api/articles/comments/".concat(a._id));case 3:t=e.sent,H(t),I(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ce(){return(ce=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==W.body_text.trim()){e.next=4;break}return k.NotificationManager.error("Comment cannot be empty!"),e.abrupt("return");case 4:return e.next=6,d("/api/articles/comments/create","POST",Object(m.a)(Object(m.a)({},W),{},{user_id:i,article_id:a._id}));case 6:return e.sent,U({body_text:""}),e.next=10,te();case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function ae(){return re.apply(this,arguments)}function re(){return(re=Object(x.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("/api/articles/".concat(a._id),"GET",null,{Authorization:"Bearer "+i});case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isLiked){e.next=10;break}return e.next=3,d("/api/articles/like","DELETE",{id:a._id,userId:i});case 3:if(!e.sent){e.next=8;break}return k.NotificationManager.error("Disliked"),e.next=8,ae();case 8:e.next=17;break;case 10:return e.next=12,d("/api/articles/like","POST",{id:a._id,userId:i});case 12:if(!e.sent){e.next=17;break}return k.NotificationManager.success("Liked!"),e.next=17,ae();case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{onMouseEnter:function(){return P(!0)},onMouseLeave:function(){return P(!1)},className:"homepage-main-article-card",children:[Object(v.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},align:"left",children:[" ",Object(v.jsxs)("span",{children:[" ",a.name,a.author===i&&Object(v.jsx)("b",{style:{color:"#501B1D"},children:"you"})," "]}),0!==a.likesCount&&Object(v.jsx)("span",{style:{fontSize:"16px"}})]}),Object(v.jsxs)("div",{style:{fontSize:"16px",marginBottom:"10px"},align:"left",children:[$&&Object(v.jsx)(f.a,{fromNow:!0,children:a.date_time}),!$&&ee&&Object(v.jsx)(f.a,{format:"D MMM HH:MM",children:a.date_time}),!ee&&!$&&Object(v.jsx)(f.a,{format:"D MMM YYYY",children:a.date_time})]}),Object(v.jsx)("b",{style:{fontSize:"20px"},children:a.title}),Object(v.jsxs)("p",{style:{marginBottom:"30px"},children:[(a.body_text.length<=1700||B)&&a.body_text,a.body_text.length>1700&&!B&&a.body_text.slice(0,1700)+"... ",a.body_text.length>1700&&Y&&Object(v.jsx)("i",{style:{textDecoration:"underline"},onClick:function(){return M(!B)},children:B?"show less":"show more"})]}),a.image&&Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"20px"},align:"center",children:[S&&Object(v.jsx)("p",{children:"loading..."}),Object(v.jsx)("img",{className:"article-image",onLoad:function(){return N(!1)},width:"800px",src:"https://publicblogappqazaqstan.herokuapp.com/api/files/download/".concat(a.image),loading:"lazy"})," "]}),Object(v.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(v.jsxs)("div",{style:{minHeight:"30px",display:"flex",justifyContent:"space-between"},children:[Object(v.jsxs)("span",{children:[Object(v.jsx)(w.a,{}),Object(v.jsxs)("button",{"data-tip":"Press to ".concat(a.isLiked?"unlike":"like"),style:{borderRadius:"20px",border:"1px solid gray",backgroundColor:"#FFF3F0",cursor:"pointer",paddingRight:"13px",paddingLeft:"13px",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"70px"},disabled:!o||b,onClick:function(){return se.apply(this,arguments)},children:[!a.isLiked&&Object(v.jsx)("span",{children:Object(v.jsx)("svg",{fill:"gray",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M6.28 3c3.236.001 4.973 3.491 5.72 5.031.75-1.547 2.469-5.021 5.726-5.021 2.058 0 4.274 1.309 4.274 4.182 0 3.442-4.744 7.851-10 13-5.258-5.151-10-9.559-10-13 0-2.676 1.965-4.193 4.28-4.192zm.001-2c-3.183 0-6.281 2.187-6.281 6.192 0 4.661 5.57 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-4.011-3.097-6.182-6.274-6.182-2.204 0-4.446 1.042-5.726 3.238-1.285-2.206-3.522-3.248-5.719-3.248z"})})}),a.isLiked&&Object(v.jsx)("span",{children:Object(v.jsx)("svg",{fill:"#922025",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(v.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})})}),Object(v.jsx)("span",{style:{fontSize:"18px"},children:a.likesCount})]})]}),!F&&Y&&Object(v.jsxs)("span",{className:"button-comment",onClick:te,children:[!b&&"show comments ",b&&"loading...","\u25be"]})]}),F&&0===q.length&&Object(v.jsx)("div",{align:"center",style:{fontSize:"15px"},children:"No comments added yet..."}),F&&Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{align:"right",className:"button-comment",onClick:function(){return I(!1)},children:"hide comments \u25b4"}),Object(v.jsx)("div",{style:{paddingLeft:"25px"},children:Object(v.jsx)(y,{comments:q})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"send-comment",children:[F&&o&&Object(v.jsx)("textarea",{value:W.body_text,disabled:!o,onChange:function(e){U(Object(m.a)(Object(m.a)({},W),{},Object(O.a)({},e.target.name,e.target.value)))},name:"body_text",style:{resize:"none",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"2px solid lightgray"},placeholder:"Write your comment here...",rows:4,cols:110}),F&&o&&Object(v.jsx)("button",{style:{color:"#501B1D",fontSize:"16px",backgroundColor:"white",border:"none",cursor:"pointer",borderTopRightRadius:"15px",borderBottomRightRadius:"15px"},disabled:!o,onClick:function(){return ce.apply(this,arguments)},children:Object(v.jsx)("i",{className:"arrow right"})})]})]})]})})}function S(e){var t=e.articles.map((function(e){return Object(v.jsx)(C,{article:e},e._id)}));return Object(v.jsx)(v.Fragment,{children:t})}function N(e){var t=Object(c.useContext)(u),n=t.userId,a=t.isAuth,r=h().request,s=Object(c.useState)(!1),i=Object(j.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)({body_text:"",title:""}),b=Object(j.a)(d,2),g=b[0],f=b[1],y=Object(c.useState)(null),w=Object(j.a)(y,2),C=w[0],S=w[1];function N(){return(N=Object(x.a)(p.a.mark((function t(){var c,a,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==g.body_text.trim()&&""!==g.title.trim()){t.next=4;break}return k.NotificationManager.error("Title and text cannot be empty!"),t.abrupt("return");case 4:return l(!0),(c=new FormData).append("file",C),t.next=9,fetch("/api/files/upload",{method:"POST",body:c});case 9:return a=t.sent,t.next=12,a.json();case 12:return s=t.sent,t.next=15,r("/api/articles/create","POST",Object(m.a)(Object(m.a)({},g),{},{author:n,image:s.filename}));case 15:t.sent,e.onCreate(),f({body_text:"",title:""}),_(),k.NotificationManager.success("Posted!"),l(!1),t.next=25;break;case 23:t.prev=23,t.t0=t.catch(0);case 25:case"end":return t.stop()}}),t,null,[[0,23]])})))).apply(this,arguments)}function D(e){f(Object(m.a)(Object(m.a)({},g),{},Object(O.a)({},e.target.name,e.target.value)))}function _(){S(null),document.getElementById("input-file").value="",document.getElementById("image-input").src=""}return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"homepage-main-create",style:{display:"flex",flexDirection:"column"},children:[Object(v.jsxs)("p",{style:{display:"flex",color:"#501B1D",justifyContent:"space-between",fontSize:"20px"},children:[a&&"Create new post:",!a&&"In order to create post you need to log in",Object(v.jsx)("button",{className:"create-button",onClick:function(){return N.apply(this,arguments)},disabled:o,children:"Post"})]}),Object(v.jsx)("input",{style:{padding:"5px",borderTop:"1px solid lightgray",borderRight:"1px solid lightgray",borderLeft:"1px solid lightgray",borderBottom:"none",outlineStyle:"none"},disabled:o,onChange:D,name:"title",type:"text",placeholder:"Title",value:g.title}),Object(v.jsx)("textarea",{disabled:o,onChange:D,name:"body_text",value:g.body_text,placeholder:"Write your text here",style:{resize:"none",borderTop:"none",borderRight:"1px solid lightgray",borderLeft:"1px solid lightgray",borderBottom:"1px solid lightgray"},cols:40,rows:10}),Object(v.jsx)("label",{className:"homepage-input-label",htmlFor:"input-file",children:Object(v.jsxs)("div",{className:"homepage-input-container",children:[Object(v.jsx)("input",{disabled:o,id:"input-file",name:"file",accept:"image/png, image/jpg, image/gif, image/jpeg",type:"file",onChange:function(e){S(e.target.files[0]);var t=window.URL.createObjectURL(e.target.files[0]);document.getElementById("image-input").src=t}}),null===C&&Object(v.jsx)("span",{style:{fontSize:"15px",color:"gray"},id:"preview-images",children:"select image"}),Object(v.jsx)("img",{className:"input-image",width:"500",id:"image-input",src:"",alt:""})]})}),null!==C&&Object(v.jsx)("button",{style:{backgroundColor:"white",border:"1px solid lightgray",cursor:"pointer",marginTop:"10px"},onClick:_,children:"discard image"})]})})}function D(){var e=Object(c.useContext)(u).userId,t=Object(c.useState)({}),n=Object(j.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],d=h().request,b=Object(c.useCallback)(Object(x.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=["Welcome there","What's up","Hi","Welcome dear","For you w/ love","Welcome back","My pleasure to see you here"],t.next=4,d("/api/auth/info","POST",{userId:e});case 4:(c=t.sent)&&l(n[Math.floor(Math.random()*n.length)]),r(c),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])}))),[d,e]);return Object(c.useEffect)((function(){b()}),[b]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h3",{align:"right",children:[o,", ",a.name,"!"]}),Object(v.jsx)("p",{align:"right",children:"Check new posts!"})]})}function _(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"lds-ring",children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})})}function B(){var e=Object(c.useContext)(u),t=e.isAuth,n=e.userId,a=h(),r=a.loading,s=a.request,i=Object(c.useState)(0),o=Object(j.a)(i,2),l=o[0],d=o[1],b=Object(c.useState)([]),O=Object(j.a)(b,2),m=O[0],g=O[1],f=Object(c.useState)(!1),y=Object(j.a)(f,2),w=y[0],k=y[1],C=Object(c.useState)(!1),B=Object(j.a)(C,2),M=B[0],T=B[1],E=Object(c.useCallback)(Object(x.a)(p.a.mark((function e(){var t,n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(0),null!==(t=JSON.parse(localStorage.getItem("userData")))){e.next=8;break}return e.next=5,s("/api/articles/get/0","GET",null,{Authorization:"Bearer  "});case 5:return n=e.sent,g(n),e.abrupt("return");case 8:return e.next=10,s("/api/articles/get/0","GET",null,{Authorization:"Bearer "+t.userId});case 10:c=e.sent,g(c);case 12:case"end":return e.stop()}}),e)}))),[s]);Object(c.useEffect)((function(){E()}),[E]);var F=Object(c.useCallback)(Object(x.a)(p.a.mark((function e(){var t,n,c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l+1,null!==(n=JSON.parse(localStorage.getItem("userData")))){e.next=11;break}return T(!0),e.next=6,fetch("/api/articles/get/"+t,{method:"GET",headers:{Authorization:"Bearer  ","Content-Type":"application/json"}}).then((function(e){return T(!1),e.json()}));case 6:return 0===(c=e.sent).length&&k(!0),d(l+1),g(m.concat(c)),e.abrupt("return");case 11:return T(!0),e.next=14,fetch("/api/articles/get/"+t,{method:"GET",headers:{Authorization:"Bearer "+n.userId,"Content-Type":"application/json"}}).then((function(e){return T(!1),e.json()}));case 14:0===(a=e.sent).length&&k(!0),d(l+1),g(m.concat(a));case 18:case"end":return e.stop()}}),e)}))),[fetch,l,m]),I=document.getElementById("myBtn");function z(){document.body.scrollTop>20||document.documentElement.scrollTop>20?I.style.display="block":I.style.display="none"}return window.onscroll=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(),0!==document.documentElement.scrollHeight-document.documentElement.scrollTop-document.documentElement.clientHeight||w||0===m.length){e.next=5;break}return e.next=5,F();case 5:case"end":return e.stop()}}),e)}))),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("main",{className:"homepage-main",children:[Object(v.jsxs)("div",{className:"homepage-main-header",children:[t&&Object(v.jsx)(N,{onCreate:E}),Object(v.jsxs)("div",{className:"homepage-account",children:[t&&null!==n&&Object(v.jsx)(D,{}),r&&Object(v.jsx)("div",{children:"Loading..."})]})]}),Object(v.jsxs)("div",{className:"homepage-main-container",children:[Object(v.jsx)("p",{style:{fontSize:"20px"},children:"Recent posts:"}),void 0!==m&&!r&&Object(v.jsx)(S,{articles:m}),w&&Object(v.jsx)("div",{align:"center",children:Object(v.jsx)("p",{children:"No more posts..."})}),Object(v.jsx)("button",{onClick:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},id:"myBtn",title:"To top",children:"Go to top"}),M&&Object(v.jsx)("div",{align:"center",children:Object(v.jsx)(_,{})})]})]})})}function M(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("footer",{className:"footer-main",children:Object(v.jsx)("div",{className:"footer-block",children:Object(v.jsxs)("span",{children:["\xa9 Public Blog App by bliny so smetanoi",Object(v.jsx)("br",{}),"Nur-Sultan, Qazaqstan 2022"]})})})})}function T(e){var t=Object(c.useContext)(u),n=(Object(o.f)(),Object(c.useState)(!1)),a=Object(j.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(j.a)(i,2),d=l[0],b=l[1],g=Object(c.useState)(!1),f=Object(j.a)(g,2),y=f[0],k=f[1],C=h(),S=C.loading,N=C.request,D=C.error,B=C.clearError,M=C.messages,T=C.clearMessages,E=Object(c.useState)(null),F=Object(j.a)(E,2),I=F[0],z=F[1],L=Object(c.useState)({email:"",password:""}),Y=Object(j.a)(L,2),P=Y[0],R=Y[1],A=Object(c.useState)({email:"",password:"",first_name:"",last_name:""}),q=Object(j.a)(A,2),H=q[0],G=q[1];function J(){return(J=Object(x.a)(p.a.mark((function n(){var c;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,""!==P.password&&""!==P.email){n.next=3;break}return n.abrupt("return");case 3:return b(!0),n.next=6,N("/api/auth/login","POST",Object(m.a)({},P));case 6:c=n.sent,t.login(c.token,c.userId),window.location.reload(),e.onClose(),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(0);case 14:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}function W(){return(W=Object(x.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null!==D&&Q(),e.next=4,N("/api/auth/register","POST",Object(m.a)({},H));case 4:e.sent,s(!0),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function U(e){R(Object(m.a)(Object(m.a)({},P),{},Object(O.a)({},e.target.name,e.target.value.trim())))}function K(e){G(Object(m.a)(Object(m.a)({},H),{},Object(O.a)({},e.target.name,e.target.value.trim())))}function Q(){z(null),B()}return Object(c.useEffect)((function(){if(null!==M&&void 0!==M){var e=M.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:e.msg},e.index)})}));z(e)}}),[M,T]),Object(c.useEffect)((function(){null!==D&&b(!0)}),[D,B]),e.show?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"modal",children:Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsxs)("div",{className:"modal-header",children:[Object(v.jsx)("h3",{style:{color:"#501B1D"},children:y?"Sign up":"Log in"}),S&&Object(v.jsx)(_,{}),Object(v.jsx)("span",{onClick:e.onClose,children:"\u2715"})]}),Object(v.jsxs)("div",{className:"modal-body",children:[y&&!r&&Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{onClick:Q,children:Object(v.jsx)("button",{onClick:function(){return k(!y)},children:"\u21a9"})}),Object(v.jsxs)("div",{align:"center",children:[null!==I&&I,Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{}),Object(v.jsx)("input",{"data-tip":"email should be in format example@mail.com",className:"signup-input",placeholder:"Email",type:"text",name:"email",value:H.email,onChange:K})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{}),Object(v.jsx)("input",{"data-tip":"password should be at least 8 characters",className:"signup-input",placeholder:"Password",type:"password",name:"password",value:H.password,onChange:K})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{}),Object(v.jsx)("input",{"data-tip":"first name should be filled",className:"signup-input",placeholder:"First name",type:"text",name:"first_name",value:H.first_name,onChange:K})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(w.a,{}),Object(v.jsx)("input",{"data-tip":"last name should be filled",className:"signup-input",placeholder:"Last name",type:"text",name:"last_name",value:H.last_name,onChange:K})]}),Object(v.jsx)("br",{}),d&&!S&&Object(v.jsx)("div",{align:"center",style:{color:"darkred"},children:Object(v.jsx)("p",{children:D})}),Object(v.jsx)("div",{align:"center",children:Object(v.jsx)("button",{className:"signup-button",onClick:function(){return W.apply(this,arguments)},children:"Register"})})]})]}),r&&Object(v.jsx)("div",{children:Object(v.jsxs)("p",{children:["You registered, in order to log in, please press this button ",Object(v.jsx)("button",{onClick:function(){k(!1),s(!1)},children:"Log in"})]})}),!y&&Object(v.jsxs)("div",{align:"center",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{style:{marginBottom:"5px"},onClick:Q,children:Object(v.jsx)("input",{className:"login-input",placeholder:"Email",type:"text",name:"email",value:P.email,onChange:U})}),Object(v.jsx)("div",{onClick:Q,children:Object(v.jsx)("input",{className:"login-input",placeholder:"Password",type:"password",name:"password",value:P.password,onChange:U})}),Object(v.jsxs)("div",{children:[d&&Object(v.jsx)("div",{style:{color:"darkred"},children:Object(v.jsx)("p",{children:D})}),null!==I&&I]})]}),Object(v.jsx)("div",{children:Object(v.jsxs)("p",{onClick:Q,children:["Do not have account yet? ",Object(v.jsx)("span",{style:{textDecoration:"underline",color:"#501B1D"},onClick:function(){return k(!y)},children:"Sign up"}),"."]})}),Object(v.jsx)("button",{className:"login-button",onClick:function(){return J.apply(this,arguments)},children:"Enter"})]})]}),Object(v.jsx)("div",{className:"modal-footer"})]})})}):null}function E(){Object(o.f)();var e=Object(c.useContext)(u),t=e.isAuth,n=e.logout,a=Object(c.useState)(!1),r=Object(j.a)(a,2),s=r[0],l=r[1];return t?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("nav",{className:"navbar-main",children:Object(v.jsxs)("div",{className:"navbar-block",children:[Object(v.jsx)(i.b,{style:{textDecoration:"none",color:"#501B1D",fontSize:"25px"},to:"/",children:Object(v.jsx)("b",{children:"Public Blog App"})}),Object(v.jsx)("button",{style:{borderRadius:"5px",border:"1px solid #501B1D",color:"#501B1D",backgroundColor:"white",cursor:"pointer"},onClick:function(){n(),window.location.reload()},children:"Log out"})]})})}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("nav",{className:"navbar-main",children:Object(v.jsxs)("div",{className:"navbar-block",children:[Object(v.jsx)(i.b,{style:{textDecoration:"none",color:"#501B1D",fontSize:"25px"},to:"/",children:Object(v.jsx)("b",{children:"Public Blog App"})}),Object(v.jsx)("button",{style:{borderRadius:"5px",border:"1px solid #501B1D",color:"#501B1D",backgroundColor:"white",cursor:"pointer"},onClick:function(){return l(!0)},children:"Log in"})]})}),Object(v.jsx)(T,{show:s,onClose:function(){return l(!1)}})]})}function F(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{children:"Development in process... ^-^"})})}function I(){var e=function(){var e=Object(c.useState)(null),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(j.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(),u=Object(j.a)(l,2),b=u[0],p=u[1],x=Object(c.useCallback)((function(e,t){a(e),p(t),localStorage.setItem(d,JSON.stringify({userId:t,token:e}))}),[]),h=Object(c.useCallback)((function(){p(null),a(null),localStorage.removeItem(d)}),[]);return Object(c.useEffect)((function(){var e=JSON.parse(localStorage.getItem(d));e&&e.token&&x(e.token,e.userId),o(!0)}),[x]),{login:x,logout:h,token:n,userId:b,ready:i}}(),t=e.token,n=e.login,a=e.logout,r=e.userId,s=!!t;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(u.Provider,{value:{token:t,login:n,logout:a,userId:r,isAuth:s},children:Object(v.jsxs)(i.a,{children:[Object(v.jsx)(E,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/",element:Object(v.jsx)(B,{})}),Object(v.jsx)(o.a,{path:"/profile",element:Object(v.jsx)(F,{})}),Object(v.jsx)(o.a,{path:"*",element:Object(v.jsx)(B,{})})]}),Object(v.jsx)(M,{})]})})})}var z=n(18),L=n.n(z);n(37);s.a.render(Object(v.jsxs)(a.a.StrictMode,{children:[Object(v.jsx)(L.a,{}),Object(v.jsx)(I,{})]}),document.getElementById("root"))}},[[38,1,2]]]);